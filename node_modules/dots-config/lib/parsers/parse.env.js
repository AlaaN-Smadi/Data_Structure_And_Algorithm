const fs=require("fs"),IParser=require("./IParser"),newLineRegex=/\n|\r|\r\n/g,cleanse=e=>e.trim().replace(/^"(.+)"$/g,"$1").replace(/^'(.+)'$/g,"$1"),getEnvJson=e=>{let r={};return e&&e.length>0&&e.split(newLineRegex).forEach((e=>{let s=e.indexOf("=");s>-1&&(r[cleanse(e.substr(0,s))]=cleanse(e.substr(s+1)))})),r};class ParseEnv extends IParser{constructor(){super()}parse(e,r){return e?getEnvJson(fs.readFileSync(e,r).toString()):{}}}module.exports=new ParseEnv;